!function(e,n){"function"==typeof define&&define.amd?define(n):"object"==typeof exports?module.exports=n(require,exports,module):e.ouibounce=n()}(this,function(){return function(e,n){function o(e,n){return"undefined"==typeof e?n:e}function i(e){var n=24*e*60*60*1e3,o=new Date;return o.setTime(o.getTime()+n),"; expires="+o.toGMTString()}function t(){w.addEventListener("mouseleave",u),w.addEventListener("keydown",r),w.addEventListener("mouseenter",d)}function u(e){e.clientY>m||c("viewedOuibounceModal","true")&&!s||(a(),p(),x=!0)}function r(e){b||c("viewedOuibounceModal","true")&&!s||e.metaKey&&76==e.keyCode&&(b=!0,a(),p(),x=!0)}function d(){x&&(l(),x=!1)}function c(e,n){var o=document.cookie.split("; ").reduce(function(e,n){var o=n.split("=");return e[o[0]]=o[1],e},{});return o[e]===n}function a(){e&&(e.style.display="block"),f()}function f(e){var e=e||{};"undefined"!=typeof e.cookieExpire&&(k=i(e.cookieExpire)),e.sitewide===!0&&(E=";path=/"),"undefined"!=typeof e.cookieDomain&&(y=";domain="+e.cookieDomain),document.cookie="viewedOuibounceModal=true"+k+y+E,w.removeEventListener("mouseleave",u),w.removeEventListener("keydown",r)}var n=n||{},s=n.aggressive||!1,m=o(n.sensitivity,20),v=o(n.timer,1e3),p=n.onLeave||function(){},l=n.onReEnter||function(){},k=i(n.cookieExpire)||"",y=n.cookieDomain?";domain="+n.cookieDomain:"",E=n.sitewide===!0?";path=/":"",w=document.getElementsByTagName("html")[0];setTimeout(t,v);var b=!1,x=!1;return{fire:a,disable:f}}});